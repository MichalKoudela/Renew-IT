# === Render deployment configuration ===
# Tento soubor patÅ™Ã­ do koÅ™ene projektu (napÅ™. /renewit/render.yaml)

services:
  # =======================
  # ðŸŸ© BACKEND (Express + MongoDB + Cloudinary)
  # =======================
  - type: web
    name: renewit-server
    env: node
    plan: free
    rootDir: server
    buildCommand: npm install
    startCommand: npm start
    envVars:
      - key: NODE_VERSION
        value: 18
      - key: MONGO_URI
        sync: false
      - key: CLOUDINARY_CLOUD_NAME
        sync: false
      - key: CLOUDINARY_API_KEY
        sync: false
      - key: CLOUDINARY_API_SECRET
        sync: false

  # =======================
  # ðŸŸ¦ FRONTEND (React â€“ Build & Serve)
  # =======================
  - type: static
    name: renewit-client
    rootDir: client
    buildCommand: npm run build
    publishPath: build
    envVars:
      - key: REACT_APP_API_URL
        fromService:
          type: web
          name: renewit-server
          property: url
